{"version":3,"file":"index.js","sources":["../src/library/variable/array.ts","../src/library/variable/string.ts","../src/library/variable/number.ts","../src/library/variable/date.ts","../src/library/variable/math.ts","../src/events/window.event.ts","../src/config/store.ts","../src/services/printer.service.ts","../src/utils/pdf.util.ts","../src/utils/printer.util.ts","../src/utils/invoice.util.ts","../src/events/printer.event.ts","../src/services/user.service.ts","../src/utils/system.util.ts","../src/events/user.event.ts","../src/services/customize.service.ts","../src/events/customize.event.ts","../src/index.ts"],"sourcesContent":["declare global {\r\n  interface Array<T> {\r\n    indexOfKey(key: string, value: any): number;\r\n    findSingle(key: string, value: any): T | undefined;\r\n    findMulti(key: string, value: any | any[], isLike?: boolean): this;\r\n    orderBy(key: string | '', sort_type: `asc` | `desc`): this;\r\n    serializeObject(): object;\r\n    remove(index: number, deleteCount?: number): void;\r\n    includes(searchElement: T, fromIndex?: number): boolean;\r\n  }\r\n}\r\n\r\nfunction convertQueryData(data: any): string {\r\n  return JSON.stringify({\r\n    d: typeof data === 'number' ? data.toString() : data,\r\n  });\r\n}\r\n\r\nArray.prototype.indexOfKey = function (key, value) {\r\n  let findIndex = -1;\r\n  let index = 0;\r\n  if (typeof value !== 'undefined') {\r\n    for (const item of this) {\r\n      let _data: any = item;\r\n\r\n      if (key.length > 0) {\r\n        for (const name of key.split('.')) {\r\n          if (typeof _data !== 'undefined') {\r\n            _data = _data[name];\r\n          }\r\n        }\r\n      }\r\n\r\n      if (convertQueryData(_data) == convertQueryData(value)) {\r\n        findIndex = index;\r\n        break;\r\n      }\r\n      index++;\r\n    }\r\n  }\r\n  return findIndex;\r\n};\r\nArray.prototype.findSingle = function (key, value) {\r\n  let foundItem = null;\r\n\r\n  if (typeof value !== 'undefined') {\r\n    for (const item of this) {\r\n      let _data: any = item;\r\n\r\n      if (key.length > 0) {\r\n        for (const name of key.split('.')) {\r\n          if (typeof _data !== 'undefined') {\r\n            _data = _data[name];\r\n          }\r\n        }\r\n      }\r\n\r\n      if (convertQueryData(_data) == convertQueryData(value)) {\r\n        foundItem = item;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  return foundItem;\r\n};\r\nArray.prototype.findMulti = function (key, value, isEquals = true) {\r\n  const foundItems = [];\r\n\r\n  if (typeof value !== 'undefined') {\r\n    for (const item of this) {\r\n      let _data: any = item;\r\n\r\n      if (key.length > 0) {\r\n        for (const name of key.split('.')) {\r\n          if (typeof _data !== 'undefined') {\r\n            _data = _data[name];\r\n          }\r\n        }\r\n      }\r\n\r\n      let query = false;\r\n\r\n      if (Array.isArray(value)) {\r\n        query = value.some(\r\n          (v) => convertQueryData(v) == convertQueryData(_data)\r\n        );\r\n      } else {\r\n        query = convertQueryData(_data) == convertQueryData(value);\r\n      }\r\n\r\n      if (query == isEquals) {\r\n        foundItems.push(item);\r\n      }\r\n    }\r\n  }\r\n\r\n  return foundItems;\r\n};\r\nArray.prototype.orderBy = function (key, sort_type) {\r\n  return this.sort(function (a, b) {\r\n    if (!a.hasOwnProperty(key) || !b.hasOwnProperty(key)) {\r\n      // property doesn't exist on either object\r\n      return 0;\r\n    }\r\n\r\n    const varA = typeof a[key] === 'string' ? a[key].toUpperCase() : a[key];\r\n    const varB = typeof b[key] === 'string' ? b[key].toUpperCase() : b[key];\r\n\r\n    let comparison = 0;\r\n    if (varA > varB) {\r\n      comparison = 1;\r\n    } else if (varA < varB) {\r\n      comparison = -1;\r\n    }\r\n    return sort_type === 'desc' ? comparison * -1 : comparison;\r\n  });\r\n};\r\n\r\nArray.prototype.serializeObject = function () {\r\n  const result: any = {};\r\n  this.forEach((item: { name: string; value: any }) => {\r\n    result[item.name] = item.value;\r\n  });\r\n  return result;\r\n};\r\nArray.prototype.remove = function (index, deleteCount = 1) {\r\n  this.splice(index, deleteCount);\r\n};\r\n\r\nexport default {};\r\n","declare global {\r\n  interface String {\r\n    replaceAll(find: string, replace: string): string;\r\n    replaceArray(find: Array<string>, replace: Array<string>): string;\r\n    removeLastChar(remove_count?: number): string;\r\n    removeScriptTags(): string;\r\n    encode(): string;\r\n    decode(): string;\r\n    convertKey(): string;\r\n    stripTags(): string;\r\n    convertSEOUrl(): string;\r\n    toCapitalizeCase(): string;\r\n    isJson(): boolean;\r\n  }\r\n}\r\n\r\nString.prototype.replaceArray = function (find, replace) {\r\n  let replaceString = this;\r\n  for (let i = 0; i < find.length; i++) {\r\n    replaceString = replaceString.replaceAll(find[i], replace[i]);\r\n  }\r\n  return replaceString.toString();\r\n};\r\nString.prototype.removeLastChar = function (remove_count = 1) {\r\n  return this.slice(0, remove_count * -1);\r\n};\r\nString.prototype.encode = function () {\r\n  return encodeURIComponent(this.toString());\r\n};\r\nString.prototype.decode = function () {\r\n  return decodeURIComponent(this.toString());\r\n};\r\nString.prototype.convertKey = function () {\r\n  return unescape(encodeURIComponent(this.convertSEOUrl()));\r\n};\r\nString.prototype.stripTags = function () {\r\n  return this.replace(/<\\/?[^>]+>/gi, '');\r\n};\r\nString.prototype.removeScriptTags = function () {\r\n  return this.replace(\r\n    /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\r\n    ''\r\n  );\r\n};\r\nString.prototype.convertSEOUrl = function () {\r\n  let $this = this.toString();\r\n  $this = $this.toString().toLowerCase().trim().stripTags();\r\n  $this = $this.replace(\"'\", '');\r\n  const tr = [\r\n    'ş',\r\n    'Ş',\r\n    'ı',\r\n    'I',\r\n    'İ',\r\n    'ğ',\r\n    'Ğ',\r\n    'ü',\r\n    'Ü',\r\n    'ö',\r\n    'Ö',\r\n    'Ç',\r\n    'ç',\r\n    '(',\r\n    ')',\r\n    '/',\r\n    ':',\r\n    ',',\r\n    '!',\r\n  ];\r\n  const eng = [\r\n    's',\r\n    's',\r\n    'i',\r\n    'i',\r\n    'i',\r\n    'g',\r\n    'g',\r\n    'u',\r\n    'u',\r\n    'o',\r\n    'o',\r\n    'c',\r\n    'c',\r\n    '',\r\n    '',\r\n    '_',\r\n    '_',\r\n    '',\r\n    '',\r\n  ];\r\n  $this = $this.replaceArray(tr, eng);\r\n  $this = $this.replace(/[^-\\w\\s]/g, ''); // Remove unneeded characters\r\n  $this = $this.replace(/^\\s+|\\s+$/g, ''); // Trim leading/trailing spaces\r\n  $this = $this.replace(/[-\\s]+/g, '-'); // Convert spaces to hyphens\r\n  return $this;\r\n};\r\nString.prototype.toCapitalizeCase = function () {\r\n  const arr = this.split(' ');\r\n  for (let i = 0; i < arr.length; i++) {\r\n    arr[i] = arr[i].charAt(0).toUpperCase() + arr[i].slice(1);\r\n  }\r\n  return arr.join(' ');\r\n};\r\nString.prototype.isJson = function () {\r\n  let item = typeof this !== 'string' ? JSON.stringify(this) : this;\r\n\r\n  try {\r\n    item = JSON.parse(item);\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n\r\n  if (typeof item === 'object' && item !== null) {\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\nexport default {};\r\n","declare global {\r\n  interface Number {\r\n    isInt(): boolean;\r\n    isFloat(): boolean;\r\n    getPercent(min: number, max: number): number;\r\n  }\r\n}\r\n\r\nNumber.prototype.isInt = function () {\r\n  if (typeof this !== 'number') return false;\r\n  const n: number = this;\r\n  return Number(n) === n && n % 1 === 0;\r\n};\r\nNumber.prototype.isFloat = function () {\r\n  if (typeof this !== 'number') return false;\r\n  const n = this;\r\n  return Number(n) === n && n % 1 !== 0;\r\n};\r\nNumber.prototype.getPercent = function (min, max) {\r\n  if (typeof this !== 'number') return 0;\r\n  return (100 * (this - min)) / (max - min);\r\n};\r\n\r\nexport default {};\r\n","declare global {\r\n  interface Date {\r\n    tomorrow(): void;\r\n\r\n    yesterday(): void;\r\n\r\n    addDays(n: any): void;\r\n\r\n    addMonths(n: any): void;\r\n\r\n    addYears(n: any): void;\r\n\r\n    getStringWithMask(mask: string | DateMask, utc?: boolean): string;\r\n\r\n    diffDays(date: Date): number;\r\n\r\n    diffMinutes(date: Date): number;\r\n\r\n    diffSeconds(date: Date): number;\r\n  }\r\n\r\n  interface DateConstructor {\r\n    convertHoursToMS(hours: number): number;\r\n  }\r\n}\r\n\r\nexport enum DateMask {\r\n  ALL = 'yyyy-mm-dd HH:MM:ss',\r\n  UNIFIED_ALL = 'yyyymmddHHMMss',\r\n  DATE = 'yyyy-mm-dd',\r\n}\r\n\r\nDate.prototype.addDays = function (n) {\r\n  this.setDate(this.getDate() + n);\r\n};\r\nDate.prototype.tomorrow = function () {\r\n  this.addDays(1);\r\n};\r\nDate.prototype.yesterday = function () {\r\n  this.addDays(-1);\r\n};\r\nDate.prototype.addMonths = function (n) {\r\n  this.setMonth(this.getMonth() + n);\r\n};\r\nDate.prototype.addYears = function (n) {\r\n  this.setFullYear(this.getFullYear() + n);\r\n};\r\nDate.prototype.getStringWithMask = function (mask, utc = false) {\r\n  let date: any = this;\r\n  const i18n = {\r\n    dayNames: [\r\n      'Sun',\r\n      'Mon',\r\n      'Tue',\r\n      'Wed',\r\n      'Thu',\r\n      'Fri',\r\n      'Sat',\r\n      'Sunday',\r\n      'Monday',\r\n      'Tuesday',\r\n      'Wednesday',\r\n      'Thursday',\r\n      'Friday',\r\n      'Saturday',\r\n    ],\r\n    monthNames: [\r\n      'Jan',\r\n      'Feb',\r\n      'Mar',\r\n      'Apr',\r\n      'May',\r\n      'Jun',\r\n      'Jul',\r\n      'Aug',\r\n      'Sep',\r\n      'Oct',\r\n      'Nov',\r\n      'Dec',\r\n      'January',\r\n      'February',\r\n      'March',\r\n      'April',\r\n      'May',\r\n      'June',\r\n      'July',\r\n      'August',\r\n      'September',\r\n      'October',\r\n      'November',\r\n      'December',\r\n    ],\r\n  };\r\n\r\n  const token =\r\n      /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\\1?|[LloSZ]|\"[^\"]*\"|'[^']*'/g,\r\n    timezone =\r\n      /\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b/g,\r\n    timezoneClip = /[^-+\\dA-Z]/g;\r\n\r\n  function pad(val: any, len: any = 0): any {\r\n    val = String(val);\r\n    len = len || 2;\r\n    while (val.length < len) val = '0' + val;\r\n    return val;\r\n  }\r\n\r\n  // You can't provide utc if you skip other args (use the \"UTC:\" mask prefix)\r\n  if (\r\n    arguments.length == 1 &&\r\n    Object.prototype.toString.call(date) == '[object String]' &&\r\n    !/\\d/.test(date)\r\n  ) {\r\n    mask = date;\r\n    date = undefined;\r\n  }\r\n\r\n  // Passing date through Date applies Date.parse, if necessary\r\n  date = date ? new Date(date) : new Date();\r\n  if (isNaN(date)) throw SyntaxError('invalid date');\r\n\r\n  // Allow setting the utc argument via the mask\r\n  if (mask.slice(0, 4) == 'UTC:') {\r\n    mask = mask.slice(4);\r\n    utc = true;\r\n  }\r\n\r\n  const _ = utc ? 'getUTC' : 'get',\r\n    d = date[_ + 'Date'](),\r\n    D = date[_ + 'Day'](),\r\n    m = date[_ + 'Month'](),\r\n    y = date[_ + 'FullYear'](),\r\n    H = date[_ + 'Hours'](),\r\n    M = date[_ + 'Minutes'](),\r\n    s = date[_ + 'Seconds'](),\r\n    L = date[_ + 'Milliseconds'](),\r\n    o = utc ? 0 : date.getTimezoneOffset(),\r\n    flags = {\r\n      d: d,\r\n      dd: pad(d),\r\n      ddd: i18n.dayNames[D],\r\n      dddd: i18n.dayNames[D + 7],\r\n      m: m + 1,\r\n      mm: pad(m + 1),\r\n      mmm: i18n.monthNames[m],\r\n      mmmm: i18n.monthNames[m + 12],\r\n      yy: String(y).slice(2),\r\n      yyyy: y,\r\n      h: H % 12 || 12,\r\n      hh: pad(H % 12 || 12),\r\n      H: H,\r\n      HH: pad(H),\r\n      M: M,\r\n      MM: pad(M),\r\n      s: s,\r\n      ss: pad(s),\r\n      l: pad(L, 3),\r\n      L: pad(L > 99 ? Math.round(L / 10) : L),\r\n      t: H < 12 ? 'a' : 'p',\r\n      tt: H < 12 ? 'am' : 'pm',\r\n      T: H < 12 ? 'A' : 'P',\r\n      TT: H < 12 ? 'AM' : 'PM',\r\n      // @ts-ignore\r\n      Z: utc\r\n        ? 'UTC'\r\n        // @ts-ignore\r\n        : (String(date).match(timezone) || [''])\r\n            .pop()\r\n            .replace(timezoneClip, ''),\r\n      o:\r\n        (o > 0 ? '-' : '+') +\r\n        pad(Math.floor(Math.abs(o) / 60) * 100 + (Math.abs(o) % 60), 4),\r\n      // @ts-ignore\r\n      S: ['th', 'st', 'nd', 'rd'][\r\n        // @ts-ignore\r\n        d % 10 > 3 ? 0 : (((d % 100) - (d % 10) != 10) * d) % 10\r\n      ],\r\n    };\r\n\r\n  return mask.replace(token, function ($0) {\r\n    // @ts-ignore\r\n    return $0 in flags ? flags[$0] : $0.slice(1, $0.length - 1);\r\n  });\r\n};\r\nDate.prototype.diffDays = function (date) {\r\n  let diff = (date.getTime() - this.getTime()) / 1000;\r\n  diff /= 60 * 60 * 24;\r\n  return Math.ceil(diff);\r\n};\r\nDate.prototype.diffMinutes = function (date) {\r\n  let diff = (this.getTime() - date.getTime()) / 1000;\r\n  diff /= 60;\r\n  return Math.round(diff);\r\n};\r\nDate.prototype.diffSeconds = function (date) {\r\n  const diff = (this.getTime() - date.getTime()) / 1000;\r\n  return Math.round(diff);\r\n};\r\nDate.convertHoursToMS = function (hours) {\r\n  return 1000 * 60 * 60 * hours;\r\n};\r\nexport default {};\r\n","declare global {\r\n  interface Math {\r\n    randomCustom(min: number, max: number): number;\r\n    range(value: number, min: number, max: number, equal: boolean): boolean;\r\n  }\r\n}\r\n\r\nMath.randomCustom = function (min, max) {\r\n  return Math.floor(Math.random() * (max - min + 1) + min);\r\n};\r\nMath.range = function (value, min, max, equal = false) {\r\n  return equal ? value >= min && value <= max : value > min && value < max;\r\n};\r\n\r\nexport default {};\r\n","import { app, BrowserWindow, ipcMain } from 'electron';\r\n\r\nexport const initWindowEvent = (window: BrowserWindow) => {\r\n  ipcMain.handle('maximize', () => window.maximize());\r\n  ipcMain.handle('minimize', () => window.minimize());\r\n  ipcMain.handle('exit', () => app.exit());\r\n  ipcMain.handle('restart', () => (app.relaunch(), app.exit()));\r\n  \r\n  ipcMain.handle('zoom', (event, zoomDirection) => {\r\n    var currentZoom = window.webContents.getZoomFactor();\r\n    if (zoomDirection === \"in\") {\r\n        window.webContents.zoomFactor = currentZoom + 0.2;\r\n    }\r\n    if (zoomDirection === \"out\") {\r\n        window.webContents.zoomFactor = currentZoom - 0.2;\r\n    }\r\n  });\r\n\r\n  ipcMain.on('changeURL', (event, path) => {\r\n    window.loadURL(path);\r\n  });\r\n};","import StoreDefault from 'electron-store';\r\nimport type ElectronStore from 'electron-store';\r\n\r\nconst Store: typeof ElectronStore = (StoreDefault as any).default || StoreDefault;\r\n\r\nexport const store = new Store<IStore>({\r\n  defaults: {\r\n    users: [],\r\n    printer: {\r\n      title: \"\",\r\n      cancelPrinterName: \"\",\r\n      safePrinterName: \"\",\r\n      settings: {\r\n        callerId: false,\r\n        payyedPrint: false,\r\n        cancelInvoice: false,\r\n        showUserName: false,\r\n        showQuantityName: true,\r\n      },\r\n      groups: []\r\n    },\r\n    customize: {\r\n      triggerProductOptionModal: true,\r\n      enableBarcodeSystem: false,\r\n      enableNotifications: true,\r\n    }\r\n  }\r\n});","import { store } from \"@/config/store\";\r\n\r\nconst get = (): IPrinterModel => {\r\n    return store.get(\"printer\");\r\n}\r\n\r\nconst update = (params: IPrinterModel): boolean => {\r\n    try {\r\n        store.set(\"printer\", params);\r\n    } catch (error) {\r\n        console.log(error);\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nexport const PrinterService = {\r\n    get,\r\n    update\r\n}","import pdf from 'html-pdf';\r\n\r\nconst create = async (params: IPDFCreateParamsUtil) => {\r\n  const options: pdf.CreateOptions = {\r\n    //win32: ['-print-settings \"noscale\"'],\r\n    type: 'pdf',\r\n    height: params.height,\r\n    width: params.width,\r\n    renderDelay: 0,\r\n  };\r\n\r\n  try {\r\n    await new Promise((resolve, reject) => {\r\n      pdf.create(params.content, options).toFile(params.dir, function (err, res) {\r\n        if (err) {\r\n          console.error('PDF creation error:', err);\r\n          reject(err);\r\n          return;\r\n        }\r\n        resolve(true);\r\n      });\r\n    });\r\n    console.log('PDF creation successful:', params.dir);\r\n    return true;\r\n  } catch (e) {\r\n    console.error('PDF creation error (catch):', e);\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const PDFUtil = {\r\n  create,\r\n};\r\n","import ptp from 'pdf-to-printer';\r\n\r\nconst print = async (dir: string, printerName: string, height?: number) => {\r\n  const options: ptp.PrintOptions = {\r\n    printer: printerName,\r\n    scale: 'noscale',\r\n  };\r\n\r\n  try {\r\n    await ptp.print(dir, options);\r\n    console.log('Print successful:', dir);\r\n    return true;\r\n  } catch (e) {\r\n    console.error('Print error:', e);\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const PrinterUtil = {\r\n  print\r\n}","import pdf from 'html-pdf';\r\nimport fs from 'fs';\r\nimport { PDFUtil } from './pdf.util';\r\nimport { PrinterUtil } from './printer.util';\r\n\r\nconst print = async (params: IInvoiceCreateParamsUtil) => {\r\n let invoiceHeight = params.height;\r\n      invoiceHeight = invoiceHeight ? invoiceHeight * 7 : 80;\r\n\r\n    let dir = `./invoices/${Math.random()}.pdf`;\r\n\r\n    const pdfStatus = await PDFUtil.create({\r\n        dir: dir, \r\n        content: params.html, \r\n        width: \"72mm\", \r\n        height: `${invoiceHeight}mm`\r\n    });\r\n\r\n    if(pdfStatus){\r\n        const printStatus = await PrinterUtil.print(dir, params.printerName);\r\n        if(printStatus){\r\n            await fs.unlinkSync(dir);\r\n        }\r\n        return printStatus;\r\n    }\r\n\r\n    return false;\r\n};\r\n\r\nexport const InvoiceUtil = {\r\n  print,\r\n};\r\n","import { BrowserWindow, ipcMain } from 'electron';\r\nimport { PrinterService } from '@/services/printer.service';\r\nimport { InvoiceUtil } from '@/utils/invoice.util';\r\n\r\nexport const initPrinterEvent = (window: BrowserWindow) => {\r\n  ipcMain.handle('getPrinters', async (event) => {\r\n    const printers = await window.webContents.getPrintersAsync();\r\n    return printers;\r\n  });\r\n\r\n  ipcMain.handle('getPrinterSettings', async (event) => {\r\n    return PrinterService.get();\r\n  });\r\n\r\n  ipcMain.handle('setPrinterSettings', async (event, value) => {\r\n    return PrinterService.update(value);\r\n  });\r\n\r\n  ipcMain.handle('print', async (event, args) => {\r\n    try {\r\n      console.log(args);\r\n      return await InvoiceUtil.print({\r\n        printerName: args.printerName,\r\n        height: args.data.height,\r\n        html: args.data.html,\r\n      });\r\n    } catch (error) {\r\n      console.error('Print handler error:', error);\r\n      return false;\r\n    }\r\n  });\r\n\r\n  ipcMain.handle('multiPrint', async (event, args) => {\r\n    try {\r\n      const printItems = Array.isArray(args) ? args : [args];\r\n      const results = [];\r\n\r\n      for (const item of printItems) {\r\n        try {\r\n          const status = await InvoiceUtil.print({\r\n            printerName: item.printer,\r\n            height: item.height,\r\n            html: item.html,\r\n          });\r\n\r\n          results.push({ success: status, printer: item.settings.printer });\r\n        } catch (error) {\r\n          console.error('Multi-print item error:', error);\r\n          results.push({ success: false, printer: item.settings.printer, error: String(error) });\r\n        }\r\n      }\r\n\r\n      return {\r\n        success: results.every((r) => r.success),\r\n        results: results,\r\n      };\r\n    } catch (error) {\r\n      console.error('Multi-print handler error:', error);\r\n      return { success: false, error: String(error) };\r\n    }\r\n  });\r\n\r\n  ipcMain.handle('viewInvoice', async (event) => {\r\n    return false;\r\n  });\r\n};\r\n","import { store } from \"@/config/store\";\r\n\r\nconst get = (params: IUserGetParamService): IUserModel => { \r\n    const users = store.get(\"users\"); \r\n    return users.find(user => user.id === params.id) || { id: params.id, isDarkMode: false };\r\n}\r\n\r\nconst update = (params: IUserModel): boolean => {\r\n    try {\r\n        let users = store.get(\"users\");\r\n        let found = false;\r\n\r\n        users = users.map(user => {\r\n            if (user.id === params.id) {\r\n                user = params;\r\n                found = true;\r\n            }\r\n\r\n            return user;\r\n        });\r\n\r\n        if (!found) {\r\n            users.push(params);\r\n        }\r\n\r\n        store.set(\"users\", users);\r\n    } catch (error) {\r\n        console.log(error);\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nexport const UserService = {\r\n    get,\r\n    update\r\n}","import si from 'systeminformation';\r\nimport os from 'os';\r\nimport crypto from 'crypto';\r\n\r\nconst getDeviceIds = async () => {\r\n  const system = await si.system();\r\n  const bios = await si.bios();\r\n  const osInfo = await si.osInfo();\r\n  const uuid = (system?.uuid) || (bios?.serial) || '';\r\n  const hostname = os.hostname();\r\n\r\n  const osIdRaw = uuid || `${osInfo.platform}|${osInfo.distro}|${osInfo.release}|${hostname}`;\r\n  const biosIdRaw = bios?.serial || `${bios?.vendor || ''}|${bios?.version || ''}|${bios?.releaseDate || ''}`;\r\n\r\n  return {\r\n    osIdRaw,\r\n    biosIdRaw,\r\n    system,\r\n    bios,\r\n    osInfo\r\n  };\r\n}\r\n\r\nconst createDeviceHash = async () => {\r\n  const { osIdRaw, biosIdRaw } = await getDeviceIds();\r\n\r\n  const combined = `${osIdRaw}||${biosIdRaw}`;\r\n  const hash = crypto.createHash('sha256').update(combined).digest('hex');\r\n\r\n  return hash;\r\n}\r\n\r\n\r\nexport const SystemUtil = {\r\n    getDeviceIds,\r\n    createDeviceHash\r\n}","import { UserService } from '@/services/user.service';\r\nimport { SystemUtil } from '@/utils/system.util';\r\nimport { app, BrowserWindow, ipcMain } from 'electron';\r\n\r\nexport const initUserEvent = (window: BrowserWindow) => {\r\n  ipcMain.handle('getToken', async () => {\r\n    const token = await SystemUtil.createDeviceHash();\r\n    return token;\r\n  });\r\n\r\n  ipcMain.handle('getUser', async (event, value) => {\r\n    return UserService.get({ id: value });\r\n  });\r\n\r\n  ipcMain.handle('setUser', async (event, value) => {\r\n    return UserService.update(value);\r\n  });\r\n};\r\n","import { store } from \"@/config/store\";\r\n\r\nconst get = (): ICustomizeModel => { \r\n    return store.get(\"customize\"); \r\n}\r\n\r\nconst update = (params: ICustomizeModel): boolean => {\r\n    try {\r\n        store.set(\"customize\", params);\r\n    } catch (error) {\r\n        console.log(error);\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nexport const CustomizeService = {\r\n    get,\r\n    update\r\n}","import { CustomizeService } from '@/services/customize.service';\r\nimport { SystemUtil } from '@/utils/system.util';\r\nimport { app, BrowserWindow, ipcMain } from 'electron';\r\n\r\nexport const initCustomizeEvent = (window: BrowserWindow) => {\r\n  ipcMain.handle('getCustomizeSettings', () => {\r\n    return CustomizeService.get();\r\n  });\r\n\r\n  ipcMain.handle('setCustomizeSettings', (event, value) => {\r\n    return CustomizeService.update(value);\r\n  });\r\n};","import config from 'config';\r\nimport { app, BrowserWindow } from 'electron';\r\nimport '@/library/variable/array';\r\nimport '@/library/variable/string';\r\nimport '@/library/variable/number';\r\nimport '@/library/variable/date';\r\nimport '@/library/variable/math';\r\n//import {checkForUpdates, downloadAsar} from \"./updater\";\r\nimport { initWindowEvent } from '@/events/window.event';\r\nimport { initPrinterEvent } from '@/events/printer.event';\r\nimport { initUserEvent } from './events/user.event';\r\nimport { initCustomizeEvent } from './events/customize.event';\r\n\r\n\r\nconst url = config.get('url') as string;\r\nconst runType = config.get('runType') as string;\r\nconst isDev = runType === 'dev' ? true : false;\r\n\r\napp.whenReady().then(() => {\r\n  const window = new BrowserWindow({\r\n    minWidth: 1200,\r\n    minHeight: 800,\r\n    autoHideMenuBar: true,\r\n    fullscreen: !isDev,\r\n    frame: false,\r\n    titleBarStyle: 'hidden',\r\n    resizable: false,\r\n    center: true,\r\n    webPreferences: {\r\n      nodeIntegration: true,\r\n      contextIsolation: false,\r\n      devTools: isDev,\r\n    },\r\n  });\r\n\r\n  window.loadURL(url);\r\n\r\n  if(isDev){\r\n      window.webContents.openDevTools();\r\n  }\r\n\r\n  initWindowEvent(window);\r\n  initPrinterEvent(window);\r\n  initUserEvent(window);\r\n  initCustomizeEvent(window);\r\n\r\n  if (!app.isPackaged) return;\r\n\r\n  app.on('window-all-closed', () => {\r\n    if (process.platform !== 'darwin') app.quit();\r\n  });\r\n\r\n  /*ipcMain.on('check-for-updates', (event) =>\r\n    checkForUpdates().then((data) =>\r\n      data\r\n        ? downloadAsar().then((data) => event.reply('cfu-data', data))\r\n        : event.reply('cfu-data', data)\r\n    )\r\n  );*/\r\n});\r\n"],"names":["ipcMain","app","get","update","print","BrowserWindow"],"mappings":";;;;;;;;;;AAYA,SAAS,iBAAiB,MAAmB;AAC3C,SAAO,KAAK,UAAU;AAAA,IACpB,GAAG,OAAO,SAAS,WAAW,KAAK,aAAa;AAAA,EAAA,CACjD;AACH;AAEA,MAAM,UAAU,aAAa,SAAU,KAAK,OAAO;AACjD,MAAI,YAAY;AAChB,MAAI,QAAQ;AACZ,MAAI,OAAO,UAAU,aAAa;AAChC,eAAW,QAAQ,MAAM;AACvB,UAAI,QAAa;AAEjB,UAAI,IAAI,SAAS,GAAG;AAClB,mBAAW,QAAQ,IAAI,MAAM,GAAG,GAAG;AACjC,cAAI,OAAO,UAAU,aAAa;AAChC,oBAAQ,MAAM,IAAI;AAAA,UACpB;AAAA,QACF;AAAA,MACF;AAEA,UAAI,iBAAiB,KAAK,KAAK,iBAAiB,KAAK,GAAG;AACtD,oBAAY;AACZ;AAAA,MACF;AACA;AAAA,IACF;AAAA,EACF;AACA,SAAO;AACT;AACA,MAAM,UAAU,aAAa,SAAU,KAAK,OAAO;AACjD,MAAI,YAAY;AAEhB,MAAI,OAAO,UAAU,aAAa;AAChC,eAAW,QAAQ,MAAM;AACvB,UAAI,QAAa;AAEjB,UAAI,IAAI,SAAS,GAAG;AAClB,mBAAW,QAAQ,IAAI,MAAM,GAAG,GAAG;AACjC,cAAI,OAAO,UAAU,aAAa;AAChC,oBAAQ,MAAM,IAAI;AAAA,UACpB;AAAA,QACF;AAAA,MACF;AAEA,UAAI,iBAAiB,KAAK,KAAK,iBAAiB,KAAK,GAAG;AACtD,oBAAY;AACZ;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAEA,SAAO;AACT;AACA,MAAM,UAAU,YAAY,SAAU,KAAK,OAAO,WAAW,MAAM;AACjE,QAAM,aAAa,CAAA;AAEnB,MAAI,OAAO,UAAU,aAAa;AAChC,eAAW,QAAQ,MAAM;AACvB,UAAI,QAAa;AAEjB,UAAI,IAAI,SAAS,GAAG;AAClB,mBAAW,QAAQ,IAAI,MAAM,GAAG,GAAG;AACjC,cAAI,OAAO,UAAU,aAAa;AAChC,oBAAQ,MAAM,IAAI;AAAA,UACpB;AAAA,QACF;AAAA,MACF;AAEA,UAAI,QAAQ;AAEZ,UAAI,MAAM,QAAQ,KAAK,GAAG;AACxB,gBAAQ,MAAM;AAAA,UACZ,CAAC,MAAM,iBAAiB,CAAC,KAAK,iBAAiB,KAAK;AAAA,QAAA;AAAA,MAExD,OAAO;AACL,gBAAQ,iBAAiB,KAAK,KAAK,iBAAiB,KAAK;AAAA,MAC3D;AAEA,UAAI,SAAS,UAAU;AACrB,mBAAW,KAAK,IAAI;AAAA,MACtB;AAAA,IACF;AAAA,EACF;AAEA,SAAO;AACT;AACA,MAAM,UAAU,UAAU,SAAU,KAAK,WAAW;AAClD,SAAO,KAAK,KAAK,SAAU,GAAG,GAAG;AAC/B,QAAI,CAAC,EAAE,eAAe,GAAG,KAAK,CAAC,EAAE,eAAe,GAAG,GAAG;AAEpD,aAAO;AAAA,IACT;AAEA,UAAM,OAAO,OAAO,EAAE,GAAG,MAAM,WAAW,EAAE,GAAG,EAAE,gBAAgB,EAAE,GAAG;AACtE,UAAM,OAAO,OAAO,EAAE,GAAG,MAAM,WAAW,EAAE,GAAG,EAAE,gBAAgB,EAAE,GAAG;AAEtE,QAAI,aAAa;AACjB,QAAI,OAAO,MAAM;AACf,mBAAa;AAAA,IACf,WAAW,OAAO,MAAM;AACtB,mBAAa;AAAA,IACf;AACA,WAAO,cAAc,SAAS,aAAa,KAAK;AAAA,EAClD,CAAC;AACH;AAEA,MAAM,UAAU,kBAAkB,WAAY;AAC5C,QAAM,SAAc,CAAA;AACpB,OAAK,QAAQ,CAAC,SAAuC;AACnD,WAAO,KAAK,IAAI,IAAI,KAAK;AAAA,EAC3B,CAAC;AACD,SAAO;AACT;AACA,MAAM,UAAU,SAAS,SAAU,OAAO,cAAc,GAAG;AACzD,OAAK,OAAO,OAAO,WAAW;AAChC;AChHA,OAAO,UAAU,eAAe,SAAU,MAAM,SAAS;AACvD,MAAI,gBAAgB;AACpB,WAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AACpC,oBAAgB,cAAc,WAAW,KAAK,CAAC,GAAG,QAAQ,CAAC,CAAC;AAAA,EAC9D;AACA,SAAO,cAAc,SAAA;AACvB;AACA,OAAO,UAAU,iBAAiB,SAAU,eAAe,GAAG;AAC5D,SAAO,KAAK,MAAM,GAAG,eAAe,EAAE;AACxC;AACA,OAAO,UAAU,SAAS,WAAY;AACpC,SAAO,mBAAmB,KAAK,UAAU;AAC3C;AACA,OAAO,UAAU,SAAS,WAAY;AACpC,SAAO,mBAAmB,KAAK,UAAU;AAC3C;AACA,OAAO,UAAU,aAAa,WAAY;AACxC,SAAO,SAAS,mBAAmB,KAAK,cAAA,CAAe,CAAC;AAC1D;AACA,OAAO,UAAU,YAAY,WAAY;AACvC,SAAO,KAAK,QAAQ,gBAAgB,EAAE;AACxC;AACA,OAAO,UAAU,mBAAmB,WAAY;AAC9C,SAAO,KAAK;AAAA,IACV;AAAA,IACA;AAAA,EAAA;AAEJ;AACA,OAAO,UAAU,gBAAgB,WAAY;AAC3C,MAAI,QAAQ,KAAK,SAAA;AACjB,UAAQ,MAAM,SAAA,EAAW,cAAc,KAAA,EAAO,UAAA;AAC9C,UAAQ,MAAM,QAAQ,KAAK,EAAE;AAC7B,QAAM,KAAK;AAAA,IACT;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEF,QAAM,MAAM;AAAA,IACV;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEF,UAAQ,MAAM,aAAa,IAAI,GAAG;AAClC,UAAQ,MAAM,QAAQ,aAAa,EAAE;AACrC,UAAQ,MAAM,QAAQ,cAAc,EAAE;AACtC,UAAQ,MAAM,QAAQ,WAAW,GAAG;AACpC,SAAO;AACT;AACA,OAAO,UAAU,mBAAmB,WAAY;AAC9C,QAAM,MAAM,KAAK,MAAM,GAAG;AAC1B,WAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,KAAK;AACnC,QAAI,CAAC,IAAI,IAAI,CAAC,EAAE,OAAO,CAAC,EAAE,YAAA,IAAgB,IAAI,CAAC,EAAE,MAAM,CAAC;AAAA,EAC1D;AACA,SAAO,IAAI,KAAK,GAAG;AACrB;AACA,OAAO,UAAU,SAAS,WAAY;AACpC,MAAI,OAAO,OAAO,SAAS,WAAW,KAAK,UAAU,IAAI,IAAI;AAE7D,MAAI;AACF,WAAO,KAAK,MAAM,IAAI;AAAA,EACxB,SAAS,GAAG;AACV,WAAO;AAAA,EACT;AAEA,MAAI,OAAO,SAAS,YAAY,SAAS,MAAM;AAC7C,WAAO;AAAA,EACT;AAEA,SAAO;AACT;AC7GA,OAAO,UAAU,QAAQ,WAAY;AACnC,MAAI,OAAO,SAAS,SAAU,QAAO;AACrC,QAAM,IAAY;AAClB,SAAO,OAAO,CAAC,MAAM,KAAK,IAAI,MAAM;AACtC;AACA,OAAO,UAAU,UAAU,WAAY;AACrC,MAAI,OAAO,SAAS,SAAU,QAAO;AACrC,QAAM,IAAI;AACV,SAAO,OAAO,CAAC,MAAM,KAAK,IAAI,MAAM;AACtC;AACA,OAAO,UAAU,aAAa,SAAU,KAAK,KAAK;AAChD,MAAI,OAAO,SAAS,SAAU,QAAO;AACrC,SAAQ,OAAO,OAAO,QAAS,MAAM;AACvC;ACWA,KAAK,UAAU,UAAU,SAAU,GAAG;AACpC,OAAK,QAAQ,KAAK,QAAA,IAAY,CAAC;AACjC;AACA,KAAK,UAAU,WAAW,WAAY;AACpC,OAAK,QAAQ,CAAC;AAChB;AACA,KAAK,UAAU,YAAY,WAAY;AACrC,OAAK,QAAQ,EAAE;AACjB;AACA,KAAK,UAAU,YAAY,SAAU,GAAG;AACtC,OAAK,SAAS,KAAK,SAAA,IAAa,CAAC;AACnC;AACA,KAAK,UAAU,WAAW,SAAU,GAAG;AACrC,OAAK,YAAY,KAAK,YAAA,IAAgB,CAAC;AACzC;AACA,KAAK,UAAU,oBAAoB,SAAU,MAAM,MAAM,OAAO;AAC9D,MAAI,OAAY;AAChB,QAAM,OAAO;AAAA,IACX,UAAU;AAAA,MACR;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IAAA;AAAA,IAEF,YAAY;AAAA,MACV;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IAAA;AAAA,EACF;AAGF,QAAM,QACF,kEACF,WACE,wIACF,eAAe;AAEjB,WAAS,IAAI,KAAU,MAAW,GAAQ;AACxC,UAAM,OAAO,GAAG;AAChB,UAAM,OAAO;AACb,WAAO,IAAI,SAAS,IAAK,OAAM,MAAM;AACrC,WAAO;AAAA,EACT;AAGA,MACE,UAAU,UAAU,KACpB,OAAO,UAAU,SAAS,KAAK,IAAI,KAAK,qBACxC,CAAC,KAAK,KAAK,IAAI,GACf;AACA,WAAO;AACP,WAAO;AAAA,EACT;AAGA,SAAO,OAAO,IAAI,KAAK,IAAI,wBAAQ,KAAA;AACnC,MAAI,MAAM,IAAI,EAAG,OAAM,YAAY,cAAc;AAGjD,MAAI,KAAK,MAAM,GAAG,CAAC,KAAK,QAAQ;AAC9B,WAAO,KAAK,MAAM,CAAC;AACnB,UAAM;AAAA,EACR;AAEA,QAAM,IAAI,MAAM,WAAW,OACzB,IAAI,KAAK,IAAI,MAAM,KACnB,IAAI,KAAK,IAAI,KAAK,KAClB,IAAI,KAAK,IAAI,OAAO,KACpB,IAAI,KAAK,IAAI,UAAU,EAAA,GACvB,IAAI,KAAK,IAAI,OAAO,EAAA,GACpB,IAAI,KAAK,IAAI,SAAS,EAAA,GACtB,IAAI,KAAK,IAAI,SAAS,EAAA,GACtB,IAAI,KAAK,IAAI,cAAc,EAAA,GAC3B,IAAI,MAAM,IAAI,KAAK,kBAAA,GACnB,QAAQ;AAAA,IACN;AAAA,IACA,IAAI,IAAI,CAAC;AAAA,IACT,KAAK,KAAK,SAAS,CAAC;AAAA,IACpB,MAAM,KAAK,SAAS,IAAI,CAAC;AAAA,IACzB,GAAG,IAAI;AAAA,IACP,IAAI,IAAI,IAAI,CAAC;AAAA,IACb,KAAK,KAAK,WAAW,CAAC;AAAA,IACtB,MAAM,KAAK,WAAW,IAAI,EAAE;AAAA,IAC5B,IAAI,OAAO,CAAC,EAAE,MAAM,CAAC;AAAA,IACrB,MAAM;AAAA,IACN,GAAG,IAAI,MAAM;AAAA,IACb,IAAI,IAAI,IAAI,MAAM,EAAE;AAAA,IACpB;AAAA,IACA,IAAI,IAAI,CAAC;AAAA,IACT;AAAA,IACA,IAAI,IAAI,CAAC;AAAA,IACT;AAAA,IACA,IAAI,IAAI,CAAC;AAAA,IACT,GAAG,IAAI,GAAG,CAAC;AAAA,IACX,GAAG,IAAI,IAAI,KAAK,KAAK,MAAM,IAAI,EAAE,IAAI,CAAC;AAAA,IACtC,GAAG,IAAI,KAAK,MAAM;AAAA,IAClB,IAAI,IAAI,KAAK,OAAO;AAAA,IACpB,GAAG,IAAI,KAAK,MAAM;AAAA,IAClB,IAAI,IAAI,KAAK,OAAO;AAAA;AAAA,IAEpB,GAAG,MACC,SAEC,OAAO,IAAI,EAAE,MAAM,QAAQ,KAAK,CAAC,EAAE,GACjC,IAAA,EACA,QAAQ,cAAc,EAAE;AAAA,IAC/B,IACG,IAAI,IAAI,MAAM,OACf,IAAI,KAAK,MAAM,KAAK,IAAI,CAAC,IAAI,EAAE,IAAI,MAAO,KAAK,IAAI,CAAC,IAAI,IAAK,CAAC;AAAA;AAAA,IAEhE,GAAG,CAAC,MAAM,MAAM,MAAM,IAAI;AAAA;AAAA,MAExB,IAAI,KAAK,IAAI,KAAO,IAAI,MAAQ,IAAI,MAAO,MAAM,IAAK;AAAA,IAAA;AAAA,EACxD;AAGJ,SAAO,KAAK,QAAQ,OAAO,SAAU,IAAI;AAEvC,WAAO,MAAM,QAAQ,MAAM,EAAE,IAAI,GAAG,MAAM,GAAG,GAAG,SAAS,CAAC;AAAA,EAC5D,CAAC;AACH;AACA,KAAK,UAAU,WAAW,SAAU,MAAM;AACxC,MAAI,QAAQ,KAAK,QAAA,IAAY,KAAK,aAAa;AAC/C,UAAQ,KAAK,KAAK;AAClB,SAAO,KAAK,KAAK,IAAI;AACvB;AACA,KAAK,UAAU,cAAc,SAAU,MAAM;AAC3C,MAAI,QAAQ,KAAK,QAAA,IAAY,KAAK,aAAa;AAC/C,UAAQ;AACR,SAAO,KAAK,MAAM,IAAI;AACxB;AACA,KAAK,UAAU,cAAc,SAAU,MAAM;AAC3C,QAAM,QAAQ,KAAK,QAAA,IAAY,KAAK,aAAa;AACjD,SAAO,KAAK,MAAM,IAAI;AACxB;AACA,KAAK,mBAAmB,SAAU,OAAO;AACvC,SAAO,MAAO,KAAK,KAAK;AAC1B;ACjMA,KAAK,eAAe,SAAU,KAAK,KAAK;AACtC,SAAO,KAAK,MAAM,KAAK,OAAA,KAAY,MAAM,MAAM,KAAK,GAAG;AACzD;AACA,KAAK,QAAQ,SAAU,OAAO,KAAK,KAAK,QAAQ,OAAO;AACrD,SAAO,QAAQ,SAAS,OAAO,SAAS,MAAM,QAAQ,OAAO,QAAQ;AACvE;ACVO,MAAM,kBAAkB,CAAC,WAA0B;AACxDA,WAAAA,QAAQ,OAAO,YAAY,MAAM,OAAO,UAAU;AAClDA,WAAAA,QAAQ,OAAO,YAAY,MAAM,OAAO,UAAU;AAClDA,WAAAA,QAAQ,OAAO,QAAQ,MAAMC,SAAAA,IAAI,MAAM;AACvCD,mBAAQ,OAAO,WAAW,OAAOC,SAAAA,IAAI,YAAYA,SAAAA,IAAI,OAAO;AAE5DD,WAAAA,QAAQ,OAAO,QAAQ,CAAC,OAAO,kBAAkB;AAC/C,QAAI,cAAc,OAAO,YAAY,cAAA;AACrC,QAAI,kBAAkB,MAAM;AACxB,aAAO,YAAY,aAAa,cAAc;AAAA,IAClD;AACA,QAAI,kBAAkB,OAAO;AACzB,aAAO,YAAY,aAAa,cAAc;AAAA,IAClD;AAAA,EACF,CAAC;AAEDA,WAAAA,QAAQ,GAAG,aAAa,CAAC,OAAO,SAAS;AACvC,WAAO,QAAQ,IAAI;AAAA,EACrB,CAAC;AACH;AClBA,MAAM,QAA+B,aAAqB,WAAW;AAE9D,MAAM,QAAQ,IAAI,MAAc;AAAA,EACrC,UAAU;AAAA,IACR,OAAO,CAAA;AAAA,IACP,SAAS;AAAA,MACP,OAAO;AAAA,MACP,mBAAmB;AAAA,MACnB,iBAAiB;AAAA,MACjB,UAAU;AAAA,QACR,UAAU;AAAA,QACV,aAAa;AAAA,QACb,eAAe;AAAA,QACf,cAAc;AAAA,QACd,kBAAkB;AAAA,MAAA;AAAA,MAEpB,QAAQ,CAAA;AAAA,IAAC;AAAA,IAEX,WAAW;AAAA,MACT,2BAA2B;AAAA,MAC3B,qBAAqB;AAAA,MACrB,qBAAqB;AAAA,IAAA;AAAA,EACvB;AAEJ,CAAC;ACzBD,MAAME,QAAM,MAAqB;AAC7B,SAAO,MAAM,IAAI,SAAS;AAC9B;AAEA,MAAMC,WAAS,CAAC,WAAmC;AAC/C,MAAI;AACA,UAAM,IAAI,WAAW,MAAM;AAAA,EAC/B,SAAS,OAAO;AACZ,YAAQ,IAAI,KAAK;AACjB,WAAO;AAAA,EACX;AAEA,SAAO;AACX;AAEO,MAAM,iBAAiB;AAAA,EAAA,KAC1BD;AAAAA,EAAA,QACAC;AACJ;AClBA,MAAM,SAAS,OAAO,WAAiC;AACrD,QAAM,UAA6B;AAAA;AAAA,IAEjC,MAAM;AAAA,IACN,QAAQ,OAAO;AAAA,IACf,OAAO,OAAO;AAAA,IACd,aAAa;AAAA,EAAA;AAGf,MAAI;AACF,UAAM,IAAI,QAAQ,CAAC,SAAS,WAAW;AACrC,UAAI,OAAO,OAAO,SAAS,OAAO,EAAE,OAAO,OAAO,KAAK,SAAU,KAAK,KAAK;AACzE,YAAI,KAAK;AACP,kBAAQ,MAAM,uBAAuB,GAAG;AACxC,iBAAO,GAAG;AACV;AAAA,QACF;AACA,gBAAQ,IAAI;AAAA,MACd,CAAC;AAAA,IACH,CAAC;AACD,YAAQ,IAAI,4BAA4B,OAAO,GAAG;AAClD,WAAO;AAAA,EACT,SAAS,GAAG;AACV,YAAQ,MAAM,+BAA+B,CAAC;AAC9C,WAAO;AAAA,EACT;AACF;AAEO,MAAM,UAAU;AAAA,EACrB;AACF;AC9BA,MAAMC,UAAQ,OAAO,KAAa,aAAqB,WAAoB;AACzE,QAAM,UAA4B;AAAA,IAChC,SAAS;AAAA,IACT,OAAO;AAAA,EAAA;AAGT,MAAI;AACF,UAAM,IAAI,MAAM,KAAK,OAAO;AAC5B,YAAQ,IAAI,qBAAqB,GAAG;AACpC,WAAO;AAAA,EACT,SAAS,GAAG;AACV,YAAQ,MAAM,gBAAgB,CAAC;AAC/B,WAAO;AAAA,EACT;AACF;AAEO,MAAM,cAAc;AAAA,EAAA,OACzBA;AACF;ACfA,MAAM,QAAQ,OAAO,WAAqC;AACzD,MAAI,gBAAgB,OAAO;AACtB,kBAAgB,gBAAgB,gBAAgB,IAAI;AAEtD,MAAI,MAAM,cAAc,KAAK,OAAA,CAAQ;AAErC,QAAM,YAAY,MAAM,QAAQ,OAAO;AAAA,IACnC;AAAA,IACA,SAAS,OAAO;AAAA,IAChB,OAAO;AAAA,IACP,QAAQ,GAAG,aAAa;AAAA,EAAA,CAC3B;AAED,MAAG,WAAU;AACT,UAAM,cAAc,MAAM,YAAY,MAAM,KAAK,OAAO,WAAW;AACnE,QAAG,aAAY;AACX,YAAM,GAAG,WAAW,GAAG;AAAA,IAC3B;AACA,WAAO;AAAA,EACX;AAEA,SAAO;AACX;AAEO,MAAM,cAAc;AAAA,EACzB;AACF;AC3BO,MAAM,mBAAmB,CAAC,WAA0B;AACzDJ,WAAAA,QAAQ,OAAO,eAAe,OAAO,UAAU;AAC7C,UAAM,WAAW,MAAM,OAAO,YAAY,iBAAA;AAC1C,WAAO;AAAA,EACT,CAAC;AAEDA,WAAAA,QAAQ,OAAO,sBAAsB,OAAO,UAAU;AACpD,WAAO,eAAe,IAAA;AAAA,EACxB,CAAC;AAEDA,WAAAA,QAAQ,OAAO,sBAAsB,OAAO,OAAO,UAAU;AAC3D,WAAO,eAAe,OAAO,KAAK;AAAA,EACpC,CAAC;AAEDA,WAAAA,QAAQ,OAAO,SAAS,OAAO,OAAO,SAAS;AAC7C,QAAI;AACF,cAAQ,IAAI,IAAI;AAChB,aAAO,MAAM,YAAY,MAAM;AAAA,QAC7B,aAAa,KAAK;AAAA,QAClB,QAAQ,KAAK,KAAK;AAAA,QAClB,MAAM,KAAK,KAAK;AAAA,MAAA,CACjB;AAAA,IACH,SAAS,OAAO;AACd,cAAQ,MAAM,wBAAwB,KAAK;AAC3C,aAAO;AAAA,IACT;AAAA,EACF,CAAC;AAEDA,WAAAA,QAAQ,OAAO,cAAc,OAAO,OAAO,SAAS;AAClD,QAAI;AACF,YAAM,aAAa,MAAM,QAAQ,IAAI,IAAI,OAAO,CAAC,IAAI;AACrD,YAAM,UAAU,CAAA;AAEhB,iBAAW,QAAQ,YAAY;AAC7B,YAAI;AACF,gBAAM,SAAS,MAAM,YAAY,MAAM;AAAA,YACrC,aAAa,KAAK;AAAA,YAClB,QAAQ,KAAK;AAAA,YACb,MAAM,KAAK;AAAA,UAAA,CACZ;AAED,kBAAQ,KAAK,EAAE,SAAS,QAAQ,SAAS,KAAK,SAAS,SAAS;AAAA,QAClE,SAAS,OAAO;AACd,kBAAQ,MAAM,2BAA2B,KAAK;AAC9C,kBAAQ,KAAK,EAAE,SAAS,OAAO,SAAS,KAAK,SAAS,SAAS,OAAO,OAAO,KAAK,EAAA,CAAG;AAAA,QACvF;AAAA,MACF;AAEA,aAAO;AAAA,QACL,SAAS,QAAQ,MAAM,CAAC,MAAM,EAAE,OAAO;AAAA,QACvC;AAAA,MAAA;AAAA,IAEJ,SAAS,OAAO;AACd,cAAQ,MAAM,8BAA8B,KAAK;AACjD,aAAO,EAAE,SAAS,OAAO,OAAO,OAAO,KAAK,EAAA;AAAA,IAC9C;AAAA,EACF,CAAC;AAEDA,WAAAA,QAAQ,OAAO,eAAe,OAAO,UAAU;AAC7C,WAAO;AAAA,EACT,CAAC;AACH;AC/DA,MAAME,QAAM,CAAC,WAA6C;AACtD,QAAM,QAAQ,MAAM,IAAI,OAAO;AAC/B,SAAO,MAAM,KAAK,CAAA,SAAQ,KAAK,OAAO,OAAO,EAAE,KAAK,EAAE,IAAI,OAAO,IAAI,YAAY,MAAA;AACrF;AAEA,MAAMC,WAAS,CAAC,WAAgC;AAC5C,MAAI;AACA,QAAI,QAAQ,MAAM,IAAI,OAAO;AAC7B,QAAI,QAAQ;AAEZ,YAAQ,MAAM,IAAI,CAAA,SAAQ;AACtB,UAAI,KAAK,OAAO,OAAO,IAAI;AACvB,eAAO;AACP,gBAAQ;AAAA,MACZ;AAEA,aAAO;AAAA,IACX,CAAC;AAED,QAAI,CAAC,OAAO;AACR,YAAM,KAAK,MAAM;AAAA,IACrB;AAEA,UAAM,IAAI,SAAS,KAAK;AAAA,EAC5B,SAAS,OAAO;AACZ,YAAQ,IAAI,KAAK;AACjB,WAAO;AAAA,EACX;AAEA,SAAO;AACX;AAEO,MAAM,cAAc;AAAA,EAAA,KACvBD;AAAAA,EAAA,QACAC;AACJ;ACjCA,MAAM,eAAe,YAAY;AAC/B,QAAM,SAAS,MAAM,GAAG,OAAA;AACxB,QAAM,OAAO,MAAM,GAAG,KAAA;AACtB,QAAM,SAAS,MAAM,GAAG,OAAA;AACxB,QAAM,OAAQ,QAAQ,QAAU,MAAM,UAAW;AACjD,QAAM,WAAW,GAAG,SAAA;AAEpB,QAAM,UAAU,QAAQ,GAAG,OAAO,QAAQ,IAAI,OAAO,MAAM,IAAI,OAAO,OAAO,IAAI,QAAQ;AACzF,QAAM,YAAY,MAAM,UAAU,GAAG,MAAM,UAAU,EAAE,IAAI,MAAM,WAAW,EAAE,IAAI,MAAM,eAAe,EAAE;AAEzG,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ;AAEA,MAAM,mBAAmB,YAAY;AACnC,QAAM,EAAE,SAAS,UAAA,IAAc,MAAM,aAAA;AAErC,QAAM,WAAW,GAAG,OAAO,KAAK,SAAS;AACzC,QAAM,OAAO,OAAO,WAAW,QAAQ,EAAE,OAAO,QAAQ,EAAE,OAAO,KAAK;AAEtE,SAAO;AACT;AAGO,MAAM,aAAa;AAAA,EACtB;AAAA,EACA;AACJ;AChCO,MAAM,gBAAgB,CAAC,WAA0B;AACtDH,mBAAQ,OAAO,YAAY,YAAY;AACrC,UAAM,QAAQ,MAAM,WAAW,iBAAA;AAC/B,WAAO;AAAA,EACT,CAAC;AAEDA,WAAAA,QAAQ,OAAO,WAAW,OAAO,OAAO,UAAU;AAChD,WAAO,YAAY,IAAI,EAAE,IAAI,OAAO;AAAA,EACtC,CAAC;AAEDA,WAAAA,QAAQ,OAAO,WAAW,OAAO,OAAO,UAAU;AAChD,WAAO,YAAY,OAAO,KAAK;AAAA,EACjC,CAAC;AACH;ACfA,MAAM,MAAM,MAAuB;AAC/B,SAAO,MAAM,IAAI,WAAW;AAChC;AAEA,MAAM,SAAS,CAAC,WAAqC;AACjD,MAAI;AACA,UAAM,IAAI,aAAa,MAAM;AAAA,EACjC,SAAS,OAAO;AACZ,YAAQ,IAAI,KAAK;AACjB,WAAO;AAAA,EACX;AAEA,SAAO;AACX;AAEO,MAAM,mBAAmB;AAAA,EAC5B;AAAA,EACA;AACJ;AChBO,MAAM,qBAAqB,CAAC,WAA0B;AAC3DA,mBAAQ,OAAO,wBAAwB,MAAM;AAC3C,WAAO,iBAAiB,IAAA;AAAA,EAC1B,CAAC;AAEDA,WAAAA,QAAQ,OAAO,wBAAwB,CAAC,OAAO,UAAU;AACvD,WAAO,iBAAiB,OAAO,KAAK;AAAA,EACtC,CAAC;AACH;ACEA,MAAM,MAAM,OAAO,IAAI,KAAK;AAC5B,MAAM,UAAU,OAAO,IAAI,SAAS;AACpC,MAAM,QAAQ,YAAY,QAAQ,OAAO;AAEzCC,SAAAA,IAAI,UAAA,EAAY,KAAK,MAAM;AACzB,QAAM,SAAS,IAAII,uBAAc;AAAA,IAC/B,UAAU;AAAA,IACV,WAAW;AAAA,IACX,iBAAiB;AAAA,IACjB,YAAY,CAAC;AAAA,IACb,OAAO;AAAA,IACP,eAAe;AAAA,IACf,WAAW;AAAA,IACX,QAAQ;AAAA,IACR,gBAAgB;AAAA,MACd,iBAAiB;AAAA,MACjB,kBAAkB;AAAA,MAClB,UAAU;AAAA,IAAA;AAAA,EACZ,CACD;AAED,SAAO,QAAQ,GAAG;AAElB,MAAG,OAAM;AACL,WAAO,YAAY,aAAA;AAAA,EACvB;AAEA,kBAAgB,MAAM;AACtB,mBAAiB,MAAM;AACvB,gBAAoB;AACpB,qBAAyB;AAEzB,MAAI,CAACJ,SAAAA,IAAI,WAAY;AAErBA,eAAI,GAAG,qBAAqB,MAAM;AAChC,QAAI,QAAQ,aAAa,SAAUA,UAAAA,IAAI,KAAA;AAAA,EACzC,CAAC;AASH,CAAC;"}